<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nieuw bestelde toestel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">


</head>
<body>
<h1>Create new toestel</h1>
<main class="container">
    <form onsubmit="create()">
        <label for="naam">Naam:</label><br>
        <input type="text" id="naam" name="naam" class="form-control" placeholder="Toestelnaam"><br>
        <label for="aankoopdatum">AankoopDatum:</label><br>
        <input type="date" class="form-control" id="aankoopdatum" name="aankoopdatum"><br>
        <label for="prijs">Prijs:</label><br>
        <input type="number"  class="form-control" step="any" id="prijs" name="prijs"><br><br>
        <input type="submit" class="form-control" value="Submit">
    </form>
</main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script>
    let besteldToestel;

    function create() {
        let naam = $("#naam").val().toString();
        let aankoopdatum = $("#aankoopdatum").val();
        if (isNaN(aankoopdatum)) aankoopdatum = new Date(aankoopdatum).getTime();
        let prijs = parseFloat($("#prijs").val());
        console.log(aankoopdatum);
        $.post('http://localhost:8080/besteldtoestel/createBesteldToestel', {
            aankoopdatumMillis: aankoopdatum,
            naam: naam,
            prijs: prijs
        }).done(function () {
            window.location.href = "http://localhost:8080/besteldtoestel/OverviewBesteldeToestellen.html";
            console.log('SUCCESS');
        });
    }
</script>
</body>
</html>